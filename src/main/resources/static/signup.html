<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>회원가입</title>
</head>
<body>

<h1>회원가입</h1>

<input id="email" type="email" placeholder="이메일"><br>
<input id="nickname" type="text" placeholder="닉네임"><br>
<input id="password" type="password" placeholder="비밀번호"><br>

<button onclick="signup()">가입</button>

<p id="msg"></p>

<script>
  function signup() {
    fetch('/api/users', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({
        email: document.getElementById('email').value,
        password: document.getElementById('password').value,
        nickname: document.getElementById('nickname').value
      })
    }).then(res => {
      if (!res.ok) {
        throw new Error('회원가입 실패');
      }
      document.getElementById('msg').innerText = '회원가입 완료';
    }).catch(err => {
      document.getElementById('msg').innerText = err.message;
    });
  }
</script>

</body>
</html>
